CLI Examples
============

The ``flow-state`` command-line tool provides quick access to flow state
calculations without writing Python code.

Basic Usage
-----------

Get help on available commands:

.. code-block:: bash

   flow-state --help
   flow-state from-mpt --help
   flow-state from-pt --help


Example 1: Mach 2 Flow
----------------------

Compute a Mach 2 flow state at standard sea-level conditions:

.. code-block:: bash

   flow-state from-mpt \
       --mach 2.0 \
       --p 101325 \
       --T 288.15 \
       --out mach2_state.toml

This produces a TOML file with all computed properties and prints a summary
to the terminal.


Example 2: High-Altitude Conditions
-----------------------------------

Compute flow properties at reduced pressure (simulating altitude):

.. code-block:: bash

   flow-state from-mpt \
       --mach 5.0 \
       --p 5000 \
       --T 220 \
       --out high_altitude.toml \
       --legacy-out flow_conditions.dat

This example also generates the legacy ``flow_conditions.dat`` format for
compatibility with older tools.


Example 3: Nitrogen Flow
------------------------

Use nitrogen instead of air:

.. code-block:: bash

   flow-state from-mpt \
       --mach 3.0 \
       --p 101325 \
       --T 300 \
       --gas n2 \
       --out nitrogen_flow.toml


Example 4: Custom Gas Properties
--------------------------------

Specify custom gamma and R values:

.. code-block:: bash

   flow-state from-pt \
       --p 101325 \
       --T 300 \
       --gas custom \
       --gamma 1.3 \
       --R 260.0 \
       --mach 1.5 \
       --out custom_gas.toml


Example 5: No Transport Model
-----------------------------

Skip viscosity calculations:

.. code-block:: bash

   flow-state from-mpt \
       --mach 2.0 \
       --p 101325 \
       --T 300 \
       --transport none \
       --out inviscid.toml


Output Files
------------

TOML Output
~~~~~~~~~~~

The primary output is a structured TOML file:

.. code-block:: toml

   [flow_state]
   tool_version = "0.1.0"
   created_utc = "2026-02-04T12:00:00+00:00"

   [models]
   gas_model = "air"
   transport_model = "sutherland_air"

   [thermodynamic]
   p_Pa = 101325.0
   T_K = 300.0
   rho_kg_m3 = 1.1768292682926829
   gamma = 1.4
   R_J_kgK = 287.05

   [kinematic]
   a_m_s = 347.2049526866169
   M = 2.0
   V_m_s = 694.4099053732338

   [transport]
   mu_Pa_s = 1.8462659860639424e-05
   nu_m2_s = 1.5689469405849116e-05
   Re_per_m = 44271418.35723932


Legacy Output
~~~~~~~~~~~~~

The optional legacy format is a simple key-value file:

.. code-block:: text

   # flow_conditions.dat
   # Generated by flow_state v0.1.0
   p = 1.013250e+05
   T = 300.000000
   rho = 1.176829e+00
   gamma = 1.400000
   R = 287.050000
   ...
